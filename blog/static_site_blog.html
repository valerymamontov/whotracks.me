<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Blog | Building whotracks.me - Blog (part 3)</title>
    <meta name="description" content="Adding search, data, plots and blog to 1000+ pages of tracker profiles and top domains.">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <!-- OG params for sharable content -->
    <meta property="og:title" content="Building whotracks.me - Blog (part 3)" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://whotracks.me/../blog/static_site_blog.html" />
    <meta property="og:description" content="Adding search, data, plots and blog to 1000+ pages of tracker profiles and top domains." />
    <meta property="og:image" content="https://whotracks.me/blog/../static/img/blog/blog-site-p3.png" />


    <!-- Stylesheets -->
    <link rel="icon" href="../static/img/favicon-2.ico">
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../static/css/custom.css">
    <link rel="stylesheet" href="../static/css/easy-autocomplete.min.css">
 
    <!--add this block to templates that need extra styling-->
    
        <link rel="stylesheet" href="../static/css/blog/post.css">

        <!--to style code snippets properly-->
        <link rel="stylesheet" href="../static/css/blog/github.css">
        <script src="../static/js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>



    <!-- jQuery -->
    <script src="../static/js/jquery.min.js"></script>
    <!-- Plotly JS -->
    <script src="../static/js/plotly-v1.29.3.min.js"></script>
    <!-- For relative path resolution -->
    <script>
        var pathToRoot = ".."
    </script>       
</head>

<body>
<nav class="navbar navbar-blue" role="navigation">
    <div class="container">

        <div class="row">
            <div class="col-md-2">
                <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="..">
                    <img class="logo" alt="Who Tracks Me" src="../static/img/logo-white.svg">
                </a>
                </div>
            </div>

            <div class="col-md-offset-1 col-md-9 col-sm-0">
                <!--Collapsed under menu in mobile-->
                <div class="collapse navbar-collapse" id="myNavbar">
                <ul id="imaginary_container">
                        <div class="input-group stylish-input-group">
                            <input id="search-bar" class="form-control" type="text" placeholder="Search website or tracker">
                        </div>
                    </ul>
                                <!--Site links-->
                    <ul class="nav navbar-nav navbar-right">
                        <li
                            
                        >
                            <a class="nav-button" href="../trackers.html">TRACKERS</a>
                        </li>
                        <li
                            
                        >
                            <a class="nav-button" href="../websites.html">WEBSITES</a>
                        </li>
                        <li
                             class="active" 
                        >
                            <a class="nav-button" href="../blog.html">BLOG</a>
                        </li>
                    </ul>
                    <!--Search bar-->



                </div>
            </div>
        </div>

    </div>
</nav>


    

    
    <div class="breadcrumb-bar">
    
        <div class="container">
                <ul class="breadcrumb">
                    <li><a href="/">Home</a></li>
                    <li><a href="/blog.html">Blog</a></li>
                    
                        <li>Building whotracks.me - Blog (part 3)</li>
                    
                </ul>
        </div>
    </div>
    




    <div class="img-container">
        <img class="img-responsive" src="../static/img/blog/blog-site-p3.png" />
    </div>
    <div class="container container-post">
            <h3 id="post-title">Building whotracks.me - Blog (part 3)</h3>
            <p id="post-subtitle">Adding search, data, plots and blog to 1000+ pages of tracker profiles and top domains.</p>

            <p>In most static site generators, one writes markdown, which is parsed and rendered
into a nice blog post. So how do we do that here. As it turns out, it's pretty
straight forward.</p>
<p>We have two cases here, first the main blog page, where a list of the posts
is presented, and then the post page. For both of these we have 
templates, which can be found at 
<a href="https://github.com/cliqz-oss/whotracks.me/blob/master/templates/blog.html"><code>templates/blog.html</code></a> and 
<a href="https://github.com/cliqz-oss/whotracks.me/blob/master/templates/blog-page.html"><code>templates/blog-page.html</code></a>
respectively.</p>
<p>For this, let's write a super simple function to parse the markdown file. To make
its life easy, we specify a given format in the post's markdown that looks like this: </p>
<pre><code class="md">title: Building whotracks.me - Blog (part 3)
subtitle: Adding search, data, plots and blog to 1000+ pages of tracker profiles and top domains.
author: privacy team
type: article
publish: True
date: 2017-11-01
tags: tracker-free, lightweight
header_img: blog/blog-site-p3.png
➕➕➕

&lt;MARKDOWN BODY&gt;
</code></pre>

<p>These are all the components we need to render the snippet, and 
the actual blog post. As promised the parsing function is quite simple:</p>
<pre><code class="python">def parse(fp):
    ''' fp: filepath to the markdown file '''
    with open(fp) as r:
        text = r.read() 
    meta, body = text.split('➕➕➕')
    title, subtitle, author, post_type, publish, date, tags, header, _ = meta.split(&quot;\n&quot;)
    return {
        &quot;filename&quot;: fp.split(&quot;/&quot;)[-1].replace(&quot;.md&quot;, &quot;&quot;),
        &quot;title&quot;: title.split(&quot;:&quot;)[1].strip(),
        &quot;subtitle&quot;: subtitle.split(&quot;:&quot;)[1].strip(),
        &quot;author&quot;: author.split(&quot;:&quot;)[1].strip(),
        &quot;type&quot;: post_type.split(&quot;:&quot;)[1].strip(),
        &quot;publish&quot;: eval(publish.split(&quot;:&quot;)[1].strip()),
        &quot;date&quot;: date.split(&quot;:&quot;)[1].strip(),
        &quot;tags&quot;: tags.split(&quot;:&quot;)[-1].split(&quot;,&quot;),
        &quot;header_img&quot;: header.split(&quot;:&quot;)[1].strip(),
        &quot;body&quot;: body
    }
</code></pre>

<p>Alright, so now we have a way to parse the markdown to generate all parts that we 
need and the templates to render them, so we are left with styling. There are three 
elements we need to style:</p>
<ul>
<li>the blog post card (snippet) </li>
<li>the actual post page. </li>
<li>the code snippets style</li>
</ul>
<p>Their styles are respectively defined in: </p>
<ul>
<li><a href="https://github.com/cliqz-oss/whotracks.me/blob/master/static/scss/blog/card.scss"><code>static/scss/blog/card.scss</code></a> </li>
<li><a href="https://github.com/cliqz-oss/whotracks.me/blob/master/static/scss/blog/post.scss"><code>static/scss/post/post.scss</code></a></li>
<li><a href="https://github.com/cliqz-oss/whotracks.me/blob/master/static/scss/blog/github.scss"><code>static/scss/post/github.scss</code></a> </li>
</ul>
    </div>




    

    
    <div class="breadcrumb-bar">
    
        <div class="container">
                <ul class="breadcrumb">
                    <li><a href="/">Home</a></li>
                    <li><a href="/blog.html">Blog</a></li>
                    
                        <li>Building whotracks.me - Blog (part 3)</li>
                    
                </ul>
        </div>
    </div>
    

<!-- FOOTER -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 col-xs-12 menu">
                <a target="_blank" href="https://cliqz.com/en/about">
                    About
                </a>
                <span class="divisor">&#x2027;</span> 
                <a target="_blank" href="https://cliqz.com/en/about/careers">
                    Careers
                </a>
                <span class="divisor">&#x2027;</span> 
                <a target="_blank" href="https://cliqz.com/en/download">
                    Cliqz browser
                </a>
                <span class="divisor">&#x2027;</span> 
                <a target="_blank" href="https://www.ghostery.com/en/products/">
                    Ghostery add-on
                </a>
                <span class="divisor">&#x2027;</span>              
                <i class="fa fa fa-github"></i>
                <a target="_blank" rel="noreferrer" href="https://github.com/cliqz-oss/whotracks.me">
                     Get the data
                </a>                
                <div class="copyright">
                    &copy; Cliqz 2017 - All rights reserved
                </div>

            </div>

            <div class="col-md-6 col-sm-6 col-xs-12 logos">
                <a href="https://cliqz.com/en/"
                    target="_blank">
                    <span class="cliqz-logo"></span>
                </a>
                <a href="https://www.ghostery.com/"
                   target="_blank">
                    <span class="ghostery-logo"></span>
                </a>                             
            </div>        
        </div>
    </div>  
    
    <!-- Local javascript modules -->
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/jquery.easy-autocomplete.js"></script>
    <script type="text/javascript" src="../static/js/search-bar.js"></script>    
    
</footer>
<!-- END OF FOOTER -->